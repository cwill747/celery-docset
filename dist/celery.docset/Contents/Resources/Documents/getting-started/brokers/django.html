<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Using the Django Database — Celery 3.1.23 documentation</title>
<link href="../../_static/celery.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.1.23',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<link href="../../copyright.html" rel="copyright" title="Copyright"/>
<link href="../../index.html" rel="top" title="Celery 3.1.23 documentation"/>
<link href="index.html" rel="up" title="Brokers"/>
<link href="mongodb.html" rel="next" title="Using MongoDB"/>
<link href="sqlalchemy.html" rel="prev" title="Using SQLAlchemy"/>
</head>
<body role="document">

<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="deck">
<p>
        This document describes the current stable version of Celery (3.1). For development docs,
        <a href="http://docs.celeryproject.org/en/master/getting-started/brokers/django.html">go here</a>.
        </p>
</div>
<div class="section" id="using-the-django-database">
<span id="broker-django"></span><h1>Using the Django Database<a class="headerlink" href="#using-the-django-database" title="Permalink to this headline">¶</a></h1>
<div class="admonition-experimental-status admonition">
<p class="first admonition-title">Experimental Status</p>
<p class="last">The Django database transport is in need of improvements in many areas
and there are several open bugs.  Unfortunately we don’t have the resources or funds
required to improve the situation, so we’re looking for contributors
and partners willing to help.</p>
</div>
<div class="section" id="installation">
<span id="broker-django-installation"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="configuration">
<span id="broker-django-configuration"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>The database transport uses the Django <cite>DATABASE_*</cite> settings for database
configuration values.</p>
<ol class="arabic">
<li><p class="first">Set your broker transport:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">BROKER_URL</span> <span class="o">=</span> <span class="s1">'django://'</span>
</pre></div>
</div>
</li>
<li><p class="first">Add <a class="reference external" href="http://kombu.readthedocs.org/en/latest/reference/kombu.transport.django.html#module-kombu.transport.django" title="(in Kombu v3.0)"><code class="xref py py-mod docutils literal"><span class="pre">kombu.transport.django</span></code></a> to <cite>INSTALLED_APPS</cite>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'kombu.transport.django'</span><span class="p">,</span> <span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Sync your database schema:</p>
</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ python manage.py syncdb
</pre></div>
</div>
</div>
<div class="section" id="limitations">
<span id="broker-django-limitations"></span><h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<p>The Django database transport does not currently support:</p>
<blockquote>
<div><ul class="simple">
<li>Remote control commands (<strong class="program">celery events</strong> command, broadcast)</li>
<li>Events, including the Django Admin monitor.</li>
<li>Using more than a few workers (can lead to messages being executed
multiple times).</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
</div>
</div>

<div class="clearer"></div>
</div>

<div class="footer" role="contentinfo">
        © <a href="../../copyright.html">Copyright</a> 2009-2015, Ask Solem &amp; Contributors.
    </div>
</body>
</html>