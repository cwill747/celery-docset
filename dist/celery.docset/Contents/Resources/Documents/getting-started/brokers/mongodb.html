<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Using MongoDB — Celery 3.1.23 documentation</title>
<link href="../../_static/celery.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.1.23',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<link href="../../copyright.html" rel="copyright" title="Copyright"/>
<link href="../../index.html" rel="top" title="Celery 3.1.23 documentation"/>
<link href="index.html" rel="up" title="Brokers"/>
<link href="sqs.html" rel="next" title="Using Amazon SQS"/>
<link href="django.html" rel="prev" title="Using the Django Database"/>
</head>
<body role="document">

<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="deck">
<p>
        This document describes the current stable version of Celery (3.1). For development docs,
        <a href="http://docs.celeryproject.org/en/master/getting-started/brokers/mongodb.html">go here</a>.
        </p>
</div>
<div class="section" id="using-mongodb">
<span id="broker-mongodb"></span><h1>Using MongoDB<a class="headerlink" href="#using-mongodb" title="Permalink to this headline">¶</a></h1>
<div class="admonition-experimental-status admonition">
<p class="first admonition-title">Experimental Status</p>
<p class="last">The MongoDB transport is in need of improvements in many areas and there
are several open bugs.  Unfortunately we don’t have the resources or funds
required to improve the situation, so we’re looking for contributors
and partners willing to help.</p>
</div>
<div class="section" id="installation">
<span id="broker-mongodb-installation"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>For the MongoDB support you have to install additional dependencies.
You can install both Celery and these dependencies in one go using
the <code class="docutils literal"><span class="pre">celery[mongodb]</span></code> <a class="reference internal" href="../introduction.html#bundles"><span>bundle</span></a>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install -U celery<span class="o">[</span>mongodb<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<span id="broker-mongodb-configuration"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Configuration is easy, set the transport, and configure the location of
your MongoDB database:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">BROKER_URL</span> <span class="o">=</span> <span class="s1">'mongodb://localhost:27017/database_name'</span>
</pre></div>
</div>
<p>Where the URL is in the format of:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">mongodb</span><span class="p">:</span><span class="o">//</span><span class="n">userid</span><span class="p">:</span><span class="n">password</span><span class="nd">@hostname</span><span class="p">:</span><span class="n">port</span><span class="o">/</span><span class="n">database_name</span>
</pre></div>
</div>
<p>The host name will default to <code class="docutils literal"><span class="pre">localhost</span></code> and the port to 27017,
and so they are optional.  userid and password are also optional,
but needed if your MongoDB server requires authentication.</p>
<div class="section" id="results">
<span id="mongodb-results-configuration"></span><h3>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h3>
<p>If you also want to store the state and return values of tasks in MongoDB,
you should see <a class="reference internal" href="../../configuration.html#conf-mongodb-result-backend"><span>MongoDB backend settings</span></a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="clearer"></div>
</div>

<div class="footer" role="contentinfo">
        © <a href="../../copyright.html">Copyright</a> 2009-2015, Ask Solem &amp; Contributors.
    </div>
</body>
</html>