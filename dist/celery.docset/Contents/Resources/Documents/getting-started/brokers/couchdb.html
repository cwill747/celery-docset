<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Using CouchDB — Celery 3.1.23 documentation</title>
<link href="../../_static/celery.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.1.23',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<link href="../../copyright.html" rel="copyright" title="Copyright"/>
<link href="../../index.html" rel="top" title="Celery 3.1.23 documentation"/>
<link href="index.html" rel="up" title="Brokers"/>
<link href="beanstalk.html" rel="next" title="Using Beanstalk"/>
<link href="sqs.html" rel="prev" title="Using Amazon SQS"/>
</head>
<body role="document">

<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="deck">
<p>
        This document describes the current stable version of Celery (3.1). For development docs,
        <a href="http://docs.celeryproject.org/en/master/getting-started/brokers/couchdb.html">go here</a>.
        </p>
</div>
<div class="section" id="using-couchdb">
<span id="broker-couchdb"></span><h1>Using CouchDB<a class="headerlink" href="#using-couchdb" title="Permalink to this headline">¶</a></h1>
<div class="admonition-experimental-status admonition">
<p class="first admonition-title">Experimental Status</p>
<p class="last">The CouchDB transport is in need of improvements in many areas and there
are several open bugs.  Unfortunately we don’t have the resources or funds
required to improve the situation, so we’re looking for contributors
and partners willing to help.</p>
</div>
<div class="section" id="installation">
<span id="broker-couchdb-installation"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>For the CouchDB support you have to install additional dependencies.
You can install both Celery and these dependencies in one go using
the <code class="docutils literal"><span class="pre">celery[couchdb]</span></code> <a class="reference internal" href="../introduction.html#bundles"><span>bundle</span></a>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install -U celery<span class="o">[</span>couchdb<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<span id="broker-couchdb-configuration"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Configuration is easy, set the transport, and configure the location of
your CouchDB database:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">BROKER_URL</span> <span class="o">=</span> <span class="s1">'couchdb://localhost:5984/database_name'</span>
</pre></div>
</div>
<p>Where the URL is in the format of:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="n">couchdb</span><span class="p">:</span><span class="o">//</span><span class="n">userid</span><span class="p">:</span><span class="n">password</span><span class="nd">@hostname</span><span class="p">:</span><span class="n">port</span><span class="o">/</span><span class="n">database_name</span>
</pre></div>
</div>
<p>The host name will default to <code class="docutils literal"><span class="pre">localhost</span></code> and the port to 5984,
and so they are optional.  userid and password are also optional,
but needed if your CouchDB server requires authentication.</p>
<div class="section" id="results">
<span id="couchdb-results-configuration"></span><h3>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h3>
<p>Storing task state and results in CouchDB is currently <strong>not supported</strong>.</p>
</div>
</div>
<div class="section" id="limitations">
<span id="broker-couchdb-limitations"></span><h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<p>The CouchDB message transport does not currently support:</p>
<blockquote>
<div><ul class="simple">
<li>Remote control commands (<strong class="program">celery inspect</strong>,
<strong class="program">celery control</strong>, broadcast)</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
</div>
</div>

<div class="clearer"></div>
</div>

<div class="footer" role="contentinfo">
        © <a href="../../copyright.html">Copyright</a> 2009-2015, Ask Solem &amp; Contributors.
    </div>
</body>
</html>