<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Change history for Celery 2.5 &mdash; Celery 3.1.23 documentation</title>
    
    <link rel="stylesheet" href="../_static/celery.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.23',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Celery 3.1.23 documentation" href="../index.html" />
    <link rel="up" title="History" href="index.html" />
    <link rel="next" title="Change history for Celery 2.4" href="changelog-2.4.html" />
    <link rel="prev" title="Change history for Celery 3.0" href="changelog-3.0.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="changelog-2.4.html" title="Change history for Celery 2.4"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="changelog-3.0.html" title="Change history for Celery 3.0"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Celery 3.1.23 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">History</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
<div class="deck">

    
        <p>
        This document describes the current stable version of Celery (3.1). For development docs,
        <a href="http://docs.celeryproject.org/en/master/history/changelog-2.5.html">go here</a>.
        </p>
    

</div>
    <div class="section" id="change-history-for-celery-2-5">
<span id="changelog-2-5"></span><h1>Change history for Celery 2.5<a class="headerlink" href="#change-history-for-celery-2-5" title="Permalink to this headline">¶</a></h1>
<p>This document contains change notes for bugfix releases in the 2.5.x series,
please see <a class="reference internal" href="../whatsnew-2.5.html#whatsnew-2-5"><span>What&#8217;s new in Celery 2.5</span></a> for an overview of what&#8217;s
new in Celery 2.5.</p>
<p>If you&#8217;re looking for versions prior to 2.5 you should visit our
<a class="reference internal" href="index.html#history"><span>History</span></a> of releases.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#version-2-5-5" id="id7">2.5.5</a></li>
<li><a class="reference internal" href="#version-2-5-3" id="id8">2.5.3</a></li>
<li><a class="reference internal" href="#version-2-5-2" id="id9">2.5.2</a><ul>
<li><a class="reference internal" href="#news" id="id10">News</a></li>
<li><a class="reference internal" href="#fixes" id="id11">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-5-1" id="id12">2.5.1</a><ul>
<li><a class="reference internal" href="#v251-fixes" id="id13">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-5-0" id="id14">2.5.0</a></li>
</ul>
</div>
<div class="section" id="version-2-5-5">
<span id="id1"></span><h2><a class="toc-backref" href="#id7">2.5.5</a><a class="headerlink" href="#version-2-5-5" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">release-date:</th><td class="field-body">2012-06-06 04:00 P.M BST</td>
</tr>
<tr class="field-even field"><th class="field-name">release-by:</th><td class="field-body">Ask Solem</td>
</tr>
</tbody>
</table>
<p>This is a dummy release performed for the following goals:</p>
<ul class="simple">
<li>Protect against force upgrading to Kombu 2.2.0</li>
<li>Version parity with django-celery</li>
</ul>
</div>
<div class="section" id="version-2-5-3">
<span id="id2"></span><h2><a class="toc-backref" href="#id8">2.5.3</a><a class="headerlink" href="#version-2-5-3" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">release-date:</th><td class="field-body">2012-04-16 07:00 P.M BST</td>
</tr>
<tr class="field-even field"><th class="field-name">release-by:</th><td class="field-body">Ask Solem</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>A bug causes messages to be sent with UTC timestamps even though
<a class="reference internal" href="../configuration.html#std:setting-CELERY_ENABLE_UTC"><code class="xref std std-setting docutils literal"><span class="pre">CELERY_ENABLE_UTC</span></code></a> was not enabled (<a class="reference external" href="https://github.com/celery/celery/issues/636"><span class="xref issue">Issue #636</span></a>).</li>
<li>celerybeat: No longer crashes if an entry&#8217;s args is set to None
(<a class="reference external" href="https://github.com/celery/celery/issues/657"><span class="xref issue">Issue #657</span></a>).</li>
<li>Autoreload did not work if a module&#8217;s <code class="docutils literal"><span class="pre">__file__</span></code> attribute
was set to the modules &#8216;.pyc&#8217; file.  (<a class="reference external" href="https://github.com/celery/celery/issues/647"><span class="xref issue">Issue #647</span></a>).</li>
<li>Fixes early 2.5 compatibility where __package__ does not exist
(<a class="reference external" href="https://github.com/celery/celery/issues/638"><span class="xref issue">Issue #638</span></a>).</li>
</ul>
</div>
<div class="section" id="version-2-5-2">
<span id="id3"></span><h2><a class="toc-backref" href="#id9">2.5.2</a><a class="headerlink" href="#version-2-5-2" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">release-date:</th><td class="field-body">2012-04-13 04:30 P.M GMT</td>
</tr>
<tr class="field-even field"><th class="field-name">release-by:</th><td class="field-body">Ask Solem</td>
</tr>
</tbody>
</table>
<div class="section" id="news">
<span id="v252-news"></span><h3><a class="toc-backref" href="#id10">News</a><a class="headerlink" href="#news" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Now depends on Kombu 2.1.5.</p>
</li>
<li><p class="first">Django documentation has been moved to the main Celery docs.</p>
<blockquote>
<div><p>See <a class="reference internal" href="../django/index.html#django"><span>Django</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">New <a class="reference internal" href="../userguide/signals.html#std:signal-celeryd_init"><code class="xref std std-signal docutils literal"><span class="pre">celeryd_init</span></code></a> signal can be used to configure workers
by hostname.</p>
</li>
<li><p class="first">Signal.connect can now be used as a decorator.</p>
<blockquote>
<div><p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">celery.signals</span> <span class="kn">import</span> <span class="n">task_sent</span>

<span class="nd">@task_sent.connect</span>
<span class="k">def</span> <span class="nf">on_task_sent</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;sent task: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="p">))</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Invalid task messages are now rejected instead of acked.</p>
<blockquote>
<div><p>This means that they will be moved to the dead-letter queue
introduced in the latest RabbitMQ version (but must be enabled
manually, consult the RabbitMQ documentation).</p>
</div></blockquote>
</li>
<li><p class="first">Internal logging calls has been cleaned up to work
better with tools like Sentry.</p>
<blockquote>
<div><p>Contributed by David Cramer.</p>
</div></blockquote>
</li>
<li><p class="first">New method <code class="docutils literal"><span class="pre">subtask.clone()</span></code> can be used to clone an existing
subtask with augmented arguments/options.</p>
<blockquote>
<div><p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">add</span><span class="o">.</span><span class="n">subtask</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="p">),</span> <span class="n">countdown</span><span class="o">=</span><span class="mi">5</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span><span class="o">.</span><span class="n">args</span>
<span class="go">(10, 5)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span><span class="o">.</span><span class="n">options</span>
<span class="go">{&quot;countdown&quot;: 5}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Chord callbacks are now triggered in eager mode.</p>
</li>
</ul>
</div>
<div class="section" id="fixes">
<span id="v252-fixes"></span><h3><a class="toc-backref" href="#id11">Fixes</a><a class="headerlink" href="#fixes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Programs now verifies that the pidfile is actually written correctly
(<a class="reference external" href="https://github.com/celery/celery/issues/641"><span class="xref issue">Issue #641</span></a>).</p>
<blockquote>
<div><p>Hopefully this will crash the worker immediately if the system
is out of space to store the complete pidfile.</p>
<p>In addition, we now verify that existing pidfiles contain
a new line so that a partially written pidfile is detected as broken,
as before doing:</p>
<blockquote>
<div><p>echo -n &#8220;1&#8221; &gt; celeryd.pid</p>
</div></blockquote>
<p>would cause the worker to think that an existing instance was already
running (init has pid 1 after all).</p>
</div></blockquote>
</li>
<li><p class="first">Fixed 2.5 compatibility issue with use of print_exception.</p>
<blockquote>
<div><p>Fix contributed by Martin Melin.</p>
</div></blockquote>
</li>
<li><p class="first">Fixed 2.5 compatibility issue with imports.</p>
<blockquote>
<div><p>Fix contributed by Iurii Kriachko.</p>
</div></blockquote>
</li>
<li><p class="first">All programs now fix up <code class="docutils literal"><span class="pre">__package__</span></code> when called as main.</p>
<blockquote>
<div><p>This fixes compatibility with Python 2.5.</p>
<p>Fix contributed by Martin Melin.</p>
</div></blockquote>
</li>
<li><p class="first">[celery control|inspect] can now be configured on the command-line.</p>
<blockquote>
<div><p>Like with the worker it is now possible to configure celery settings
on the command-line for celery control|inspect</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ celery inspect -- broker.pool_limit<span class="o">=</span>30
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Version dependency for python-dateutil fixed to be strict.</p>
<blockquote>
<div><p>Fix contributed by Thomas Meson.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Task.__call__</span></code> is now optimized away in the task tracer
rather than when the task class is created.</p>
<blockquote>
<div><p>This fixes a bug where a custom __call__  may mysteriously disappear.</p>
</div></blockquote>
</li>
<li><p class="first">Autoreload&#8217;s inotify support has been improved.</p>
<blockquote>
<div><p>Contributed by Mher Movsisyan.</p>
</div></blockquote>
</li>
<li><p class="first">The Django broker documentation has been improved.</p>
</li>
<li><p class="first">Removed confusing warning at top of routing user guide.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="version-2-5-1">
<span id="id4"></span><h2><a class="toc-backref" href="#id12">2.5.1</a><a class="headerlink" href="#version-2-5-1" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">release-date:</th><td class="field-body">2012-03-01 01:00 P.M GMT</td>
</tr>
<tr class="field-even field"><th class="field-name">release-by:</th><td class="field-body">Ask Solem</td>
</tr>
</tbody>
</table>
<div class="section" id="v251-fixes">
<span id="id5"></span><h3><a class="toc-backref" href="#id13">Fixes</a><a class="headerlink" href="#v251-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Eventlet/Gevent: A small typo caused the worker to hang when eventlet/gevent
was used, this was because the environment was not monkey patched
early enough.</li>
<li>Eventlet/Gevent: Another small typo caused the mediator to be started
with eventlet/gevent, which would make the worker sometimes hang at shutdown.</li>
<li>Mulitprocessing: Fixed an error occurring if the pool was stopped
before it was properly started.</li>
<li>Proxy objects now redirects <code class="docutils literal"><span class="pre">__doc__</span></code> and <code class="docutils literal"><span class="pre">__name__</span></code> so <code class="docutils literal"><span class="pre">help(obj)</span></code>
works.</li>
<li>Internal timer (timer2) now logs exceptions instead of swallowing them
(<a class="reference external" href="https://github.com/celery/celery/issues/626"><span class="xref issue">Issue #626</span></a>).</li>
<li>celery shell: can now be started with <code class="xref std std-option docutils literal"><span class="pre">--eventlet</span></code> or
<code class="xref std std-option docutils literal"><span class="pre">--gevent</span></code> options to apply their monkey patches.</li>
</ul>
</div>
</div>
<div class="section" id="version-2-5-0">
<span id="id6"></span><h2><a class="toc-backref" href="#id14">2.5.0</a><a class="headerlink" href="#version-2-5-0" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">release-date:</th><td class="field-body">2012-02-24 04:00 P.M GMT</td>
</tr>
<tr class="field-even field"><th class="field-name">release-by:</th><td class="field-body">Ask Solem</td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="../whatsnew-2.5.html#whatsnew-2-5"><span>What&#8217;s new in Celery 2.5</span></a>.</p>
<p>Since the changelog has gained considerable size, we decided to
do things differently this time: by having separate &#8220;what&#8217;s new&#8221;
documents for major version changes.</p>
<p>Bugfix releases will still be found in the changelog.</p>
</div>
</div>


          </div>
        </div>
      </div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="changelog-2.4.html" title="Change history for Celery 2.4"
             >next</a> |</li>
        <li class="right" >
          <a href="changelog-3.0.html" title="Change history for Celery 3.0"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Celery 3.1.23 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >History</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; <a href="../copyright.html">Copyright</a> 2009-2015, Ask Solem &amp; Contributors.
    </div>
  </body>
</html>
