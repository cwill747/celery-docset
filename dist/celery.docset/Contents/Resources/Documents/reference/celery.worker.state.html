<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>celery.worker.state — Celery 3.1.23 documentation</title>
<link href="../_static/celery.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.23',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../_static/jquery.js" type="text/javascript"></script>
<script src="../_static/underscore.js" type="text/javascript"></script>
<script src="../_static/doctools.js" type="text/javascript"></script>
<link href="../copyright.html" rel="copyright" title="Copyright"/>
<link href="../index.html" rel="top" title="Celery 3.1.23 documentation"/>
<link href="index.html" rel="up" title="API Reference"/>
<link href="celery.worker.strategy.html" rel="next" title="celery.worker.strategy"/>
<link href="celery.worker.job.html" rel="prev" title="celery.worker.job"/>
</head>
<body role="document">

<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="deck">
<p>
        This document describes the current stable version of Celery (3.1). For development docs,
        <a href="http://docs.celeryproject.org/en/master/reference/celery.worker.state.html">go here</a>.
        </p>
</div>
<div class="section" id="celery-worker-state"><a name="//apple_ref/cpp/Module/celery.worker.state"></a>
<h1>celery.worker.state<a class="headerlink" href="#celery-worker-state" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id2">celery.worker.state</a></li>
</ul>
</div>
<span class="target" id="module-celery.worker.state"></span><div class="section" id="id1">
<h2><a class="toc-backref" href="#id2">celery.worker.state</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Internal worker state (global)</p>
<p>This includes the currently active and reserved tasks,
statistics, and revoked tasks.</p>
<dl class="data">
<dt id="celery.worker.state.SOFTWARE_INFO"><a name="//apple_ref/cpp/Value/celery.worker.state.SOFTWARE_INFO"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">SOFTWARE_INFO</code><em class="property"> = {'sw_sys': 'Darwin', 'sw_ident': 'py-celery', 'sw_ver': '3.1.23'}</em><a class="headerlink" href="#celery.worker.state.SOFTWARE_INFO" title="Permalink to this definition">¶</a></dt>
<dd><p>Worker software/platform information.</p>
</dd></dl>
<dl class="data">
<dt id="celery.worker.state.reserved_requests"><a name="//apple_ref/cpp/Value/celery.worker.state.reserved_requests"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">reserved_requests</code><em class="property"> = set([])</em><a class="headerlink" href="#celery.worker.state.reserved_requests" title="Permalink to this definition">¶</a></dt>
<dd><p>set of all reserved <a class="reference internal" href="celery.worker.job.html#celery.worker.job.Request" title="celery.worker.job.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>‘s.</p>
</dd></dl>
<dl class="data">
<dt id="celery.worker.state.active_requests"><a name="//apple_ref/cpp/Value/celery.worker.state.active_requests"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">active_requests</code><em class="property"> = set([])</em><a class="headerlink" href="#celery.worker.state.active_requests" title="Permalink to this definition">¶</a></dt>
<dd><p>set of currently active <a class="reference internal" href="celery.worker.job.html#celery.worker.job.Request" title="celery.worker.job.Request"><code class="xref py py-class docutils literal"><span class="pre">Request</span></code></a>‘s.</p>
</dd></dl>
<dl class="data">
<dt id="celery.worker.state.total_count"><a name="//apple_ref/cpp/Value/celery.worker.state.total_count"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">total_count</code><em class="property"> = Counter()</em><a class="headerlink" href="#celery.worker.state.total_count" title="Permalink to this definition">¶</a></dt>
<dd><p>count of tasks accepted by the worker, sorted by type.</p>
</dd></dl>
<dl class="data">
<dt id="celery.worker.state.revoked"><a name="//apple_ref/cpp/Value/celery.worker.state.revoked"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">revoked</code><em class="property"> = LimitedSet(0)</em><a class="headerlink" href="#celery.worker.state.revoked" title="Permalink to this definition">¶</a></dt>
<dd><p>the list of currently revoked tasks.  Persistent if statedb set.</p>
</dd></dl>
<dl class="function">
<dt id="celery.worker.state.task_reserved"><a name="//apple_ref/cpp/Function/celery.worker.state.task_reserved"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">task_reserved</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#celery.worker.state.task_reserved" title="Permalink to this definition">¶</a></dt>
<dd><p>Update global state when a task has been reserved.</p>
</dd></dl>
<dl class="function">
<dt id="celery.worker.state.maybe_shutdown"><a name="//apple_ref/cpp/Function/celery.worker.state.maybe_shutdown"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">maybe_shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#maybe_shutdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.maybe_shutdown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="celery.worker.state.task_accepted"><a name="//apple_ref/cpp/Function/celery.worker.state.task_accepted"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">task_accepted</code><span class="sig-paren">(</span><em>request, _all_total_count=[0]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#task_accepted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.task_accepted" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates global state when a task has been accepted.</p>
</dd></dl>
<dl class="function">
<dt id="celery.worker.state.task_ready"><a name="//apple_ref/cpp/Function/celery.worker.state.task_ready"></a>
<code class="descclassname">celery.worker.state.</code><code class="descname">task_ready</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#task_ready"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.task_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates global state when a task is ready.</p>
</dd></dl>
<dl class="function">
<dt>
<code class="descclassname">celery.worker.state.</code><code class="descname">task_reserved</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Update global state when a task has been reserved.</p>
</dd></dl>
<dl class="function">
<dt>
<code class="descclassname">celery.worker.state.</code><code class="descname">task_ready</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#task_ready"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Updates global state when a task is ready.</p>
</dd></dl>
<dl class="class">
<dt id="celery.worker.state.Persistent"><a name="//apple_ref/cpp/Class/celery.worker.state.Persistent"></a>
<em class="property">class </em><code class="descclassname">celery.worker.state.</code><code class="descname">Persistent</code><span class="sig-paren">(</span><em>state</em>, <em>filename</em>, <em>clock=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#Persistent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.Persistent" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the persistent data stored by the worker when
<code class="xref std std-option docutils literal"><span class="pre">--statedb</span></code> is enabled.</p>
<p>It currently only stores revoked task id’s.</p>
<dl class="method">
<dt id="celery.worker.state.Persistent.close"><a name="//apple_ref/cpp/Method/celery.worker.state.Persistent.close"></a>
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#Persistent.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.Persistent.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="celery.worker.state.Persistent.compress"><a name="//apple_ref/cpp/Method/celery.worker.state.Persistent.compress"></a>
<code class="descname">compress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#celery.worker.state.Persistent.compress" title="Permalink to this definition">¶</a></dt>
<dd><p>compress(string[, level]) – Returned compressed string.</p>
<p>Optional arg level is the compression level, in 0-9.</p>
</dd></dl>
<dl class="attribute">
<dt id="celery.worker.state.Persistent.db"><a name="//apple_ref/cpp/Attribute/celery.worker.state.Persistent.db"></a>
<code class="descname">db</code><a class="reference internal" href="../_modules/celery/worker/state.html#Persistent.db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.Persistent.db" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="celery.worker.state.Persistent.decompress"><a name="//apple_ref/cpp/Method/celery.worker.state.Persistent.decompress"></a>
<code class="descname">decompress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#celery.worker.state.Persistent.decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>decompress(string[, wbits[, bufsize]]) – Return decompressed string.</p>
<p>Optional arg wbits is the window buffer size.  Optional arg bufsize is
the initial output buffer size.</p>
</dd></dl>
<dl class="method">
<dt id="celery.worker.state.Persistent.merge"><a name="//apple_ref/cpp/Method/celery.worker.state.Persistent.merge"></a>
<code class="descname">merge</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#Persistent.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.Persistent.merge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="celery.worker.state.Persistent.open"><a name="//apple_ref/cpp/Method/celery.worker.state.Persistent.open"></a>
<code class="descname">open</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#Persistent.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.Persistent.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="celery.worker.state.Persistent.protocol"><a name="//apple_ref/cpp/Attribute/celery.worker.state.Persistent.protocol"></a>
<code class="descname">protocol</code><em class="property"> = 2</em><a class="headerlink" href="#celery.worker.state.Persistent.protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="celery.worker.state.Persistent.save"><a name="//apple_ref/cpp/Method/celery.worker.state.Persistent.save"></a>
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#Persistent.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.Persistent.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="celery.worker.state.Persistent.storage"><a name="//apple_ref/cpp/Attribute/celery.worker.state.Persistent.storage"></a>
<code class="descname">storage</code><em class="property"> = &lt;module 'shelve' from '/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shelve.pyc'&gt;</em><a class="headerlink" href="#celery.worker.state.Persistent.storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="celery.worker.state.Persistent.sync"><a name="//apple_ref/cpp/Method/celery.worker.state.Persistent.sync"></a>
<code class="descname">sync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/celery/worker/state.html#Persistent.sync"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.worker.state.Persistent.sync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
</div>
</div>
</div>
</div>

<div class="clearer"></div>
</div>

<div class="footer" role="contentinfo">
        © <a href="../copyright.html">Copyright</a> 2009-2015, Ask Solem &amp; Contributors.
    </div>
</body>
</html>