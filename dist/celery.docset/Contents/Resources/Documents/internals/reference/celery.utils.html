<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>celery.utils — Celery 3.1.23 documentation</title>
<link href="../../_static/celery.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.1.23',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<link href="../../copyright.html" rel="copyright" title="Copyright"/>
<link href="../../index.html" rel="top" title="Celery 3.1.23 documentation"/>
<link href="index.html" rel="up" title="Internal Module Reference"/>
<link href="celery.utils.functional.html" rel="next" title="celery.utils.functional"/>
<link href="celery.backends.database.session.html" rel="prev" title="celery.backends.database.session"/>
</head>
<body role="document">

<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="deck">
<p>
        This document describes the current stable version of Celery (3.1). For development docs,
        <a href="http://docs.celeryproject.org/en/master/internals/reference/celery.utils.html">go here</a>.
        </p>
</div>
<div class="section" id="celery-utils"><a name="//apple_ref/cpp/Module/celery.utils"></a>
<h1>celery.utils<a class="headerlink" href="#celery-utils" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id2">celery.utils</a></li>
</ul>
</div>
<span class="target" id="module-celery.utils"></span><div class="section" id="id1">
<h2><a class="toc-backref" href="#id2">celery.utils</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Utility functions.</p>
<dl class="function">
<dt id="celery.utils.worker_direct"><a name="//apple_ref/cpp/Function/celery.utils.worker_direct"></a>
<code class="descclassname">celery.utils.</code><code class="descname">worker_direct</code><span class="sig-paren">(</span><em>hostname</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#worker_direct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.worker_direct" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <a class="reference external" href="http://kombu.readthedocs.org/en/latest/reference/kombu.html#kombu.Queue" title="(in Kombu v3.0)"><code class="xref py py-class docutils literal"><span class="pre">kombu.Queue</span></code></a> that is a direct route to
a worker by hostname.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"></col>
<col class="field-body"></col>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>hostname</strong> – The fully qualified node name of a worker
(e.g. <code class="docutils literal"><span class="pre">w1@example.com</span></code>).  If passed a
<a class="reference external" href="http://kombu.readthedocs.org/en/latest/reference/kombu.html#kombu.Queue" title="(in Kombu v3.0)"><code class="xref py py-class docutils literal"><span class="pre">kombu.Queue</span></code></a> instance it will simply return
that instead.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="function">
<dt id="celery.utils.warn_deprecated"><a name="//apple_ref/cpp/Function/celery.utils.warn_deprecated"></a>
<code class="descclassname">celery.utils.</code><code class="descname">warn_deprecated</code><span class="sig-paren">(</span><em>description=None</em>, <em>deprecation=None</em>, <em>removal=None</em>, <em>alternative=None</em>, <em>stacklevel=2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#warn_deprecated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.warn_deprecated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="celery.utils.deprecated"><a name="//apple_ref/cpp/Function/celery.utils.deprecated"></a>
<code class="descclassname">celery.utils.</code><code class="descname">deprecated</code><span class="sig-paren">(</span><em>deprecation=None</em>, <em>removal=None</em>, <em>alternative=None</em>, <em>description=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#deprecated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.deprecated" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for deprecated functions.</p>
<p>A deprecation warning will be emitted when the function is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"></col>
<col class="field-body"></col>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>deprecation</strong> – Version that marks first deprecation, if this
argument is not set a <code class="docutils literal"><span class="pre">PendingDeprecationWarning</span></code> will be emitted
instead.</li>
<li><strong>removal</strong> – Future version when this feature will be removed.</li>
<li><strong>alternative</strong> – Instructions for an alternative solution (if any).</li>
<li><strong>description</strong> – Description of what is being deprecated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="function">
<dt id="celery.utils.lpmerge"><a name="//apple_ref/cpp/Function/celery.utils.lpmerge"></a>
<code class="descclassname">celery.utils.</code><code class="descname">lpmerge</code><span class="sig-paren">(</span><em>L</em>, <em>R</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#lpmerge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.lpmerge" title="Permalink to this definition">¶</a></dt>
<dd><p>In place left precedent dictionary merge.</p>
<p>Keeps values from <cite>L</cite>, if the value in <cite>R</cite> is <code class="xref py py-const docutils literal"><span class="pre">None</span></code>.</p>
</dd></dl>
<dl class="function">
<dt id="celery.utils.is_iterable"><a name="//apple_ref/cpp/Function/celery.utils.is_iterable"></a>
<code class="descclassname">celery.utils.</code><code class="descname">is_iterable</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#is_iterable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.is_iterable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="celery.utils.isatty"><a name="//apple_ref/cpp/Function/celery.utils.isatty"></a>
<code class="descclassname">celery.utils.</code><code class="descname">isatty</code><span class="sig-paren">(</span><em>fh</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#isatty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.isatty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="celery.utils.cry"><a name="//apple_ref/cpp/Function/celery.utils.cry"></a>
<code class="descclassname">celery.utils.</code><code class="descname">cry</code><span class="sig-paren">(</span><em>out=None</em>, <em>sepchr='='</em>, <em>seplen=49</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#cry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.cry" title="Permalink to this definition">¶</a></dt>
<dd><p>Return stacktrace of all active threads,
taken from <a class="reference external" href="https://gist.github.com/737056">https://gist.github.com/737056</a>.</p>
</dd></dl>
<dl class="function">
<dt id="celery.utils.maybe_reraise"><a name="//apple_ref/cpp/Function/celery.utils.maybe_reraise"></a>
<code class="descclassname">celery.utils.</code><code class="descname">maybe_reraise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#maybe_reraise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.maybe_reraise" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-raise if an exception is currently being handled, or return
otherwise.</p>
</dd></dl>
<dl class="function">
<dt id="celery.utils.strtobool"><a name="//apple_ref/cpp/Function/celery.utils.strtobool"></a>
<code class="descclassname">celery.utils.</code><code class="descname">strtobool</code><span class="sig-paren">(</span><em>term</em>, <em>table={'1': True</em>, <em>'0': False</em>, <em>'false': False</em>, <em>'no': False</em>, <em>'off': False</em>, <em>'yes': True</em>, <em>'on': True</em>, <em>'true': True}</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#strtobool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.strtobool" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert common terms for true/false to bool
(true/false/yes/no/on/off/1/0).</p>
</dd></dl>
<dl class="function">
<dt id="celery.utils.jsonify"><a name="//apple_ref/cpp/Function/celery.utils.jsonify"></a>
<code class="descclassname">celery.utils.</code><code class="descname">jsonify</code><span class="sig-paren">(</span><em>obj</em>, <em>builtin_types=(&lt;class 'numbers.Real'&gt;</em>, <em>&lt;type 'basestring'&gt;)</em>, <em>key=None</em>, <em>keyfilter=None</em>, <em>unknown_type_filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#jsonify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.jsonify" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms object making it suitable for json serialization</p>
</dd></dl>
<dl class="function">
<dt id="celery.utils.gen_task_name"><a name="//apple_ref/cpp/Function/celery.utils.gen_task_name"></a>
<code class="descclassname">celery.utils.</code><code class="descname">gen_task_name</code><span class="sig-paren">(</span><em>app</em>, <em>name</em>, <em>module_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#gen_task_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.gen_task_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate task name from name/module pair.</p>
</dd></dl>
<dl class="function">
<dt id="celery.utils.nodename"><a name="//apple_ref/cpp/Function/celery.utils.nodename"></a>
<code class="descclassname">celery.utils.</code><code class="descname">nodename</code><span class="sig-paren">(</span><em>name</em>, <em>hostname</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#nodename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.nodename" title="Permalink to this definition">¶</a></dt>
<dd><p>Create node name from name/hostname pair.</p>
</dd></dl>
<dl class="function">
<dt id="celery.utils.nodesplit"><a name="//apple_ref/cpp/Function/celery.utils.nodesplit"></a>
<code class="descclassname">celery.utils.</code><code class="descname">nodesplit</code><span class="sig-paren">(</span><em>nodename</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/celery/utils.html#nodesplit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.nodesplit" title="Permalink to this definition">¶</a></dt>
<dd><p>Split node name into tuple of name/hostname.</p>
</dd></dl>
<dl class="class">
<dt id="celery.utils.cached_property"><a name="//apple_ref/cpp/Class/celery.utils.cached_property"></a>
<em class="property">class </em><code class="descclassname">celery.utils.</code><code class="descname">cached_property</code><span class="sig-paren">(</span><em>fget=None</em>, <em>fset=None</em>, <em>fdel=None</em>, <em>doc=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/kombu/utils.html#cached_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.cached_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Property descriptor that caches the return value
of the get function.</p>
<p><em>Examples</em></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@cached_property</span>
<span class="k">def</span> <span class="nf">connection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Connection</span><span class="p">()</span>

<span class="nd">@connection.setter</span>  <span class="c1"># Prepares stored value</span>
<span class="k">def</span> <span class="nf">connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">'Connection must be a connection'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="nd">@connection.deleter</span>
<span class="k">def</span> <span class="nf">connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="c1"># Additional action to do at del(self.attr)</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">'Connection {0!r} deleted'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="celery.utils.cached_property.deleter"><a name="//apple_ref/cpp/Method/celery.utils.cached_property.deleter"></a>
<code class="descname">deleter</code><span class="sig-paren">(</span><em>fdel</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/kombu/utils.html#cached_property.deleter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.cached_property.deleter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="celery.utils.cached_property.setter"><a name="//apple_ref/cpp/Method/celery.utils.cached_property.setter"></a>
<code class="descname">setter</code><span class="sig-paren">(</span><em>fset</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/kombu/utils.html#cached_property.setter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.utils.cached_property.setter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
</div>
</div>
</div>
</div>

<div class="clearer"></div>
</div>

<div class="footer" role="contentinfo">
        © <a href="../../copyright.html">Copyright</a> 2009-2015, Ask Solem &amp; Contributors.
    </div>
</body>
</html>